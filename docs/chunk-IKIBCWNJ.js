import{H as N,I as R,J as t1,K as i1,L as b,M as n1,N as q,O as $,P as W,Q as l1,R as e1,S as c1,T as r1,U as v1,V as _,W as D,Y as g1,a as Z,b as J,c as E,d as T,e as c,f as j,g as z,h as k,i as g,j as H,k as K,l as e,m as l,n as d,o as o1,p as a1,q as s1,r as L,s as M,t as w,u as G,v as C,w as U,x as P,y as O}from"./chunk-4WB7W7OB.js";import"./chunk-7XQEIGM7.js";import"./chunk-V4RJ3T6W.js";import"./chunk-FHNDZM5I.js";import"./chunk-THRS3HCE.js";import"./chunk-W2DKFL3W.js";import"./chunk-GFAQE7C7.js";import"./chunk-4U6PRYVA.js";import"./chunk-4AY6WZNQ.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import"./chunk-RW4GY4BD.js";var X,B1=function(){if(typeof window>"u")return new Map;if(!X){var t=window;t.Ionicons=t.Ionicons||{},X=t.Ionicons.map=t.Ionicons.map||new Map}return X},Q=function(t){Object.keys(t).forEach(function(a){w1(a,t[a]);var n=a.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();a!==n&&w1(n,t[a])})},w1=function(t,a){var n=B1(),o=n.get(t);o===void 0?n.set(t,a):o!==a&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(t,'". Ensure that multiple icons are not mapped to the same icon name.'))};var h1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",p1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 01-32 0v-64h-64a16 16 0 010-32h64v-64a16 16 0 0132 0v64h64a16 16 0 010 32z'/></svg>";var d1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>";var x1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var m1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var F=(()=>{let a=class a{constructor(){this.allowedTypes=["boolean","number","string"],this.currentElement$=new Z(null);let o={name:"Nightwish",followers:475637458,albums:[],songs:[]},s={name:"Century Child",type:"Release",bands:[o],songs:[]},i={name:"Ever Dream",playcount:7565754,album:s,bands:[o]},r={name:"End of All Hope",playcount:56578667,album:s,bands:[o]},h={name:"Phantom of the Opera",playcount:2342546,album:s,bands:[o]};s.songs.push(i,r,h);let v={name:"Once",type:"Release",bands:[o],songs:[]},x={name:"Nemo",playcount:76845647887,album:v,bands:[o]},m={name:"Dark Chest of Wonders",playcount:78867454,album:v,bands:[o]},u={name:"Wish I Had an Angel",playcount:875423325,album:v,bands:[o]};v.songs.push(x,m,u);let f={name:"Dark Passion Play",type:"Release",bands:[o],songs:[]},A={name:"Amaranth",playcount:43534645567,album:f,bands:[o]},y={name:"Bye Bye Beautiful",playcount:5674343234,album:f,bands:[o]},S={name:"Eva",playcount:546980345,album:f,bands:[o]};f.songs.push(A,y,S),o.albums.push(s,v,f),o.songs.push(i,r,h,x,m,u,A,y,S);let p={tableName:"Bands",elementName:"Band",color:"mediumvioletred",contrast:"white",columns:[{name:"Name",type:"string",required:!0,isHeader:!0},{name:"Followers",type:"number"},{name:"Albums",type:"",isArray:!0},{name:"Songs",type:"",isArray:!0}]},B={tableName:"Albums",elementName:"Album",color:"mediumspringgreen",contrast:"black",columns:[{name:"Name",type:"string",required:!0,isHeader:!0},{name:"Type",type:"string",required:!0},{name:"Bands",type:"",isArray:!0},{name:"Songs",type:"",isArray:!0}]},V={tableName:"Songs",elementName:"Song",color:"royalblue",contrast:"white",columns:[{name:"Name",type:"string",required:!0,isHeader:!0},{name:"Playcount",type:"number"},{name:"Album",type:"",isObject:!0},{name:"Bands",type:"",isArray:!0}]};p.columns[2].type=B,p.columns[3].type=V,B.columns[2].type=p,B.columns[3].type=V,V.columns[2].type=B,V.columns[3].type=p,this.DDBB={name:"MetaList",tables:[p,B,V],rows:{bands:[o],albums:[s,v,f],songs:[i,r,h,x,m,u,A,y,S]}},console.log(this.DDBB)}get currentElement(){return this.currentElement$.asObservable()}get dbName(){var o;return(o=this.DDBB)==null?void 0:o.name}get tables(){var o;return(o=this.DDBB)==null?void 0:o.tables}showTableRows(o){let s=this.DDBB.rows[o.tableName.toLowerCase()],i=Array.isArray(s);this.currentElement$.next({content:s,isArray:i,table:o})}};a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"});let t=a;return t})();function L1(t,a){if(t&1){let n=s1();e(0,"ion-item",7),L("click",function(s){let i=E(n).$implicit,r=M();return T(r.showTable(i,s))}),d(1,"ion-icon",8),e(2,"ion-label"),w(3),l(),e(4,"ion-button",9),L("click",function(s){let i=E(n).$implicit,r=M();return T(r.editTable(i,s))}),d(5,"ion-icon",10),l(),e(6,"ion-button",9),L("click",function(s){let i=E(n).$implicit,r=M();return T(r.deleteTable(i,s))}),d(7,"ion-icon",11),l()()}if(t&2){let n=a.$implicit;g("button",!0),c(),H("color",n.color),c(2),G(n.tableName)}}var M1=(()=>{let a=class a{constructor(o){this.home=o,Q({addCircle:p1,add:h1,createOutline:d1,list:x1,trashOutline:m1})}ngOnInit(){var o;this.dbName=(o=this.home.dbName)!=null?o:"Menu",this.tables=this.home.tables}trackItems(o,s){return s.tableName}addDataBase(){console.log("addDataBase")}showTable(o,s){var i;((i=s.srcElement)==null?void 0:i.localName)!=="ion-button"&&this.home.showTableRows(o)}addTable(){console.log("addTable")}editTable(o,s){s.preventDefault(),console.log("editTable",o,s)}deleteTable(o,s){s.preventDefault(),console.log("deleteTable",o,s)}};a.\u0275fac=function(s){return new(s||a)(j(F))},a.\u0275cmp=z({type:a,selectors:[["app-menu"]],decls:17,vars:3,consts:[["slot","end"],["slot","end","shape","round","color","primary",3,"click"],["slot","icon-only","name","add-circle"],[1,"ion-padding"],["lines","full"],["slot","icon-only","name","add"],[3,"button","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","button"],["slot","start","name","list","size","small"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","create-outline"],["slot","icon-only","name","trash-outline"]],template:function(s,i){s&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),w(3),l(),e(4,"ion-buttons",0)(5,"ion-button",1),L("click",function(){return i.addDataBase()}),d(6,"ion-icon",2),l()()()(),e(7,"ion-content",3)(8,"ion-list",4)(9,"ion-list-header")(10,"ion-toolbar")(11,"ion-label"),w(12,"Tablas"),l(),e(13,"ion-buttons",0)(14,"ion-button",1),L("click",function(){return i.addTable()}),d(15,"ion-icon",5),l()()()(),k(16,L1,8,4,"ion-item",6),l()()),s&2&&(c(3),G(i.dbName),c(13),g("ngForOf",i.tables)("ngForTrackBy",i.trackItems))},dependencies:[R,N,g1,O,U,l1,e1,$,W,q,D,_,b],styles:["[_nghost-%COMP%]{height:100%}"]});let t=a;return t})();function H1(t,a){if(t&1&&(o1(0),w(1),a1()),t&2){let n=M().$implicit;c(),C(" ",n.value," ")}}function V1(t,a){if(t&1&&(e(0,"ion-chip"),w(1),l()),t&2){let n=M().$implicit;H("background",n.color)("color",n.contrast),c(),C(" ",n.value," ")}}function C1(t,a){if(t&1&&(e(0,"ion-chip"),w(1),l()),t&2){let n=a.$implicit,o=M(2).$implicit;H("background",o.color)("color",o.contrast),c(),C(" ",n," ")}}function A1(t,a){if(t&1&&(e(0,"span"),k(1,C1,2,5,"ion-chip",8),l()),t&2){let n=M().$implicit;c(),g("ngForOf",n.value)}}function y1(t,a){if(t&1&&(e(0,"p")(1,"span",4),w(2),l(),e(3,"span",5),k(4,H1,2,1,"ng-container",6)(5,V1,2,5,"ion-chip",7)(6,A1,2,1,"span",6),l()()),t&2){let n=a.$implicit;K("title",n.isHeader),c(2),C("",n.key,":"),c(2),g("ngIf",!n.isArray&&!n.isObject),c(),g("ngIf",n.isObject),c(),g("ngIf",n.isArray)}}function S1(t,a){if(t&1&&(e(0,"ion-col",1)(1,"ion-item",2)(2,"ion-label"),k(3,y1,7,6,"p",3),l()()()),t&2){let n=a.$implicit;c(3),g("ngForOf",n)}}var z1=(()=>{let a=class a{constructor(o){this.home=o}ngOnInit(){this.home.currentElement.subscribe(o=>{var s,i;this.currentElement=o,this.propertyElements=((i=(s=this.currentElement)==null?void 0:s.content)==null?void 0:i.map(r=>this.getProps(r)))||[],console.log(this.currentElement,this.propertyElements)})}getProps(o){return Object.entries(o).map(([s,i])=>{var x,m,u,f,A,y,S;let r=(u=(m=(x=this.currentElement)==null?void 0:x.table)==null?void 0:m.columns)==null?void 0:u.some(p=>p.isHeader&&p.name.toLowerCase()===s),h=Array.isArray(i),v=typeof i=="object"&&!Array.isArray(i);if(v||h){i=v?this.getObjectHeader(i):this.getArrayHeaders(i);let p=(S=(y=(A=(f=this.currentElement)==null?void 0:f.table)==null?void 0:A.columns)==null?void 0:y.find(B=>B.name.toLowerCase()===s))==null?void 0:S.type;if(p&&typeof p!="string"){let B=p.color,V=p.contrast;return{isHeader:r,isObject:v,isArray:h,color:B,contrast:V,key:s,value:i}}}return{isHeader:r,isObject:v,isArray:h,key:s,value:i}})}getObjectHeader(o){var r,h,v,x,m;let s=o,i=(m=(x=(v=(h=(r=this.currentElement)==null?void 0:r.table)==null?void 0:h.columns)==null?void 0:v.find(u=>u.isHeader))==null?void 0:x.name)==null?void 0:m.toLowerCase();return i?s[i]:o}getArrayHeaders(o){var i,r,h,v,x;let s=o;if(s.length<=3){let m=(x=(v=(h=(r=(i=this.currentElement)==null?void 0:i.table)==null?void 0:r.columns)==null?void 0:h.find(u=>u.isHeader))==null?void 0:v.name)==null?void 0:x.toLowerCase();return m?s.map(u=>u[m]):o}return[`x ${s.length}`]}};a.\u0275fac=function(s){return new(s||a)(j(F))},a.\u0275cmp=z({type:a,selectors:[["app-list-viewer"]],decls:3,vars:1,consts:[["size","12","size-md","6","size-xl","4",4,"ngFor","ngForOf"],["size","12","size-md","6","size-xl","4"],["button","","lines","none","detail","true"],[3,"title",4,"ngFor","ngForOf"],[1,"key"],[1,"value"],[4,"ngIf"],[3,"background","color",4,"ngIf"],[3,"background","color",4,"ngFor","ngForOf"]],template:function(s,i){s&1&&(e(0,"ion-grid")(1,"ion-row"),k(2,S1,4,1,"ion-col",0),l()()),s&2&&(c(2),g("ngForOf",i.propertyElements))},dependencies:[t1,$,W,i1,v1,n1,O,U,P],styles:[".value[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:6px 0 12px}"]});let t=a;return t})();var k1=(()=>{let a=class a{constructor(){}ngOnInit(){}};a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=z({type:a,selectors:[["app-object-viewer"]],decls:2,vars:0,template:function(s,i){s&1&&(e(0,"p"),w(1,` object-viewer works!
`),l())},encapsulation:2});let t=a;return t})();function j1(t,a){t&1&&d(0,"app-list-viewer")}function O1(t,a){t&1&&d(0,"app-object-viewer")}function b1(t,a){if(t&1&&(e(0,"ion-content")(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),w(4),l()()(),k(5,j1,1,0,"app-list-viewer",0)(6,O1,1,0,"app-object-viewer",0),l()),t&2){let n=M();c(2),H("--background",n.currentElement==null||n.currentElement.table==null?null:n.currentElement.table.color),c(),H("color",n.currentElement==null||n.currentElement.table==null?null:n.currentElement.table.contrast),c(),C(" ",n.currentElement==null||n.currentElement.table==null?null:n.currentElement.table.tableName," "),c(),g("ngIf",(n.currentElement==null?null:n.currentElement.isArray)===!0),c(),g("ngIf",(n.currentElement==null?null:n.currentElement.isArray)===!1)}}var f1=(()=>{let a=class a{constructor(o){this.home=o}ngOnInit(){this.home.currentElement.subscribe(o=>this.currentElement=o)}};a.\u0275fac=function(s){return new(s||a)(j(F))},a.\u0275cmp=z({type:a,selectors:[["app-viewer"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(s,i){s&1&&k(0,b1,7,7,"ion-content",0),s&2&&g("ngIf",i.currentElement==null?null:i.currentElement.content)},dependencies:[D,q,_,b,O,P,z1,k1],encapsulation:2});let t=a;return t})();var s2=(()=>{let a=class a{constructor(){}import(){console.log("import")}export(){console.log("export")}};a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=z({type:a,selectors:[["app-home"]],decls:16,vars:2,consts:[["contentId","main-content"],["id","main-content",1,"ion-page"],[3,"translucent"],["slot","start"],["slot","end"],[3,"click"],[3,"fullscreen"]],template:function(s,i){s&1&&(e(0,"ion-menu",0),d(1,"app-menu"),l(),e(2,"div",1)(3,"ion-header",2)(4,"ion-toolbar")(5,"ion-buttons",3),d(6,"ion-menu-button"),l(),e(7,"ion-title"),w(8," DBLux "),l(),e(9,"ion-buttons",4)(10,"ion-button",5),L("click",function(){return i.import()}),w(11,"Importar"),l(),e(12,"ion-button",5),L("click",function(){return i.export()}),w(13,"Exportar"),l()()()(),e(14,"ion-content",6),d(15,"app-viewer"),l()()),s&2&&(c(3),g("translucent",!0),c(11),g("fullscreen",!0))},dependencies:[N,R,q,b,D,c1,r1,_,M1,f1],encapsulation:2});let t=a;return t})();export{s2 as HomePage};
