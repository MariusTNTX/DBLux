import{G as r1,I as N,J as R,K as v1,L as g1,M as $,N as w1,O as W,P as D,Q as G,R as X,S as h1,T as p1,U as d1,V as m1,W as Q,X as Y,Z,a as n1,b as l1,c as E,d as F,e as c,f as V,g as f,h as m,i as v,j as k,k as e1,l as e,m as l,n as h,o as T,p as P,q as c1,r as H,s as x,t as g,u as s1,v as S,w as U,x as _,y as C}from"./chunk-IOJQZYFN.js";import"./chunk-7XQEIGM7.js";import"./chunk-V4RJ3T6W.js";import"./chunk-FHNDZM5I.js";import"./chunk-THRS3HCE.js";import"./chunk-W2DKFL3W.js";import"./chunk-GFAQE7C7.js";import"./chunk-4U6PRYVA.js";import"./chunk-4AY6WZNQ.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import"./chunk-RW4GY4BD.js";var t1,C1=function(){if(typeof window>"u")return new Map;if(!t1){var a=window;a.Ionicons=a.Ionicons||{},t1=a.Ionicons.map=a.Ionicons.map||new Map}return t1},j=function(a){Object.keys(a).forEach(function(s){x1(s,a[s]);var n=s.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();s!==n&&x1(n,a[s])})},x1=function(a,s){var n=C1(),o=n.get(a);o===void 0?n.set(a,s):o!==s&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(a,'". Ensure that multiple icons are not mapped to the same icon name.'))};var u1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",M1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 01-32 0v-64h-64a16 16 0 010-32h64v-64a16 16 0 0132 0v64h64a16 16 0 010 32z'/></svg>";var J="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>";var z1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>";var K="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>";var o1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='256' cy='416' r='48'/><circle cx='256' cy='96' r='48'/></svg>";var k1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var f1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var A=(()=>{let s=class s{constructor(){this.allowedTypes=["boolean","number","string"],this.currentElement$=new n1(null);let o={name:"Nightwish",followers:475637458,albums:[],songs:[]},t={name:"Century Child",type:"Release",bands:[o],songs:[]},i={name:"Ever Dream",playcount:7565754,album:t,bands:[o]},r={name:"End of All Hope",playcount:56578667,album:t,bands:[o]},p={name:"Phantom of the Opera",playcount:2342546,album:t,bands:[o]};t.songs.push(i,r,p);let w={name:"Once",type:"Release",bands:[o],songs:[]},u={name:"Nemo",playcount:76845647887,album:w,bands:[o]},M={name:"Dark Chest of Wonders",playcount:78867454,album:w,bands:[o]},z={name:"Wish I Had an Angel",playcount:875423325,album:w,bands:[o]};w.songs.push(u,M,z);let B={name:"Dark Passion Play",type:"Release",bands:[o],songs:[]},O={name:"Amaranth",playcount:43534645567,album:B,bands:[o]},b={name:"Bye Bye Beautiful",playcount:5674343234,album:B,bands:[o]},q={name:"Eva",playcount:546980345,album:B,bands:[o]};B.songs.push(O,b,q),o.albums.push(t,w,B),o.songs.push(i,r,p,u,M,z,O,b,q);let d={tableName:"Bands",elementName:"Band",color:"mediumvioletred",contrast:"white",columns:[{name:"Name",type:"string",required:!0,isHeader:!0},{name:"Followers",type:"number"},{name:"Albums",type:"",isArray:!0},{name:"Songs",type:"",isArray:!0}]},L={tableName:"Albums",elementName:"Album",color:"mediumspringgreen",contrast:"black",columns:[{name:"Name",type:"string",required:!0,isHeader:!0},{name:"Type",type:"string",required:!0},{name:"Bands",type:"",isArray:!0},{name:"Songs",type:"",isArray:!0}]},y={tableName:"Songs",elementName:"Song",color:"royalblue",contrast:"white",columns:[{name:"Name",type:"string",required:!0,isHeader:!0},{name:"Playcount",type:"number"},{name:"Album",type:"",isObject:!0},{name:"Bands",type:"",isArray:!0}]};d.columns[2].type=L,d.columns[3].type=y,L.columns[2].type=d,L.columns[3].type=y,y.columns[2].type=L,y.columns[3].type=d,this.DDBB={name:"MetaList",tables:[d,L,y],rows:{bands:[o],albums:[t,w,B],songs:[i,r,p,u,M,z,O,b,q]}},console.log(this.DDBB)}get currentElement(){return this.currentElement$.asObservable()}get dbName(){var o;return(o=this.DDBB)==null?void 0:o.name}get tables(){var o;return(o=this.DDBB)==null?void 0:o.tables}showTableRows(o){let t=this.DDBB.rows[o.tableName.toLowerCase()],i=Array.isArray(t);this.currentElement$.next({content:t,isArray:i,table:o})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=l1({token:s,factory:s.\u0275fac,providedIn:"root"});let a=s;return a})();function A1(a,s){if(a&1){let n=c1();e(0,"ion-item",7),H("click",function(t){let i=E(n).$implicit,r=x();return F(r.showTable(i,t))}),h(1,"ion-icon",8),e(2,"ion-label"),g(3),l(),e(4,"ion-button",9),H("click",function(t){let i=E(n).$implicit,r=x();return F(r.editTable(i,t))}),h(5,"ion-icon",10),l(),e(6,"ion-button",9),H("click",function(t){let i=E(n).$implicit,r=x();return F(r.deleteTable(i,t))}),h(7,"ion-icon",11),l()()}if(a&2){let n=s.$implicit;v("button",!0),c(),k("color",n.color),c(2),s1(n.tableName)}}var B1=(()=>{let s=class s{constructor(o){this.home=o,j({addCircle:M1,add:u1,createOutline:z1,list:k1,trashOutline:f1})}ngOnInit(){var o;this.dbName=(o=this.home.dbName)!=null?o:"Menu",this.tables=this.home.tables}trackItems(o,t){return t.tableName}addDataBase(){console.log("addDataBase")}showTable(o,t){var i;((i=t.srcElement)==null?void 0:i.localName)!=="ion-button"&&this.home.showTableRows(o)}addTable(){console.log("addTable")}editTable(o,t){t.preventDefault(),console.log("editTable",o,t)}deleteTable(o,t){t.preventDefault(),console.log("deleteTable",o,t)}};s.\u0275fac=function(t){return new(t||s)(V(A))},s.\u0275cmp=f({type:s,selectors:[["app-menu"]],decls:17,vars:3,consts:[["slot","end"],["slot","end","shape","round","color","primary",3,"click"],["slot","icon-only","name","add-circle"],[1,"ion-padding"],["lines","full"],["slot","icon-only","name","add"],[3,"button","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","button"],["slot","start","name","list","size","small"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","create-outline"],["slot","icon-only","name","trash-outline"]],template:function(t,i){t&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),g(3),l(),e(4,"ion-buttons",0)(5,"ion-button",1),H("click",function(){return i.addDataBase()}),h(6,"ion-icon",2),l()()()(),e(7,"ion-content",3)(8,"ion-list",4)(9,"ion-list-header")(10,"ion-toolbar")(11,"ion-label"),g(12,"Tablas"),l(),e(13,"ion-buttons",0)(14,"ion-button",1),H("click",function(){return i.addTable()}),h(15,"ion-icon",5),l()()()(),m(16,A1,8,4,"ion-item",6),l()()),t&2&&(c(3),s1(i.dbName),c(13),v("ngForOf",i.tables)("ngForTrackBy",i.trackItems))},dependencies:[R,N,Z,C,U,X,h1,D,G,W,Y,Q,$],styles:["[_nghost-%COMP%]{height:100%}"]});let a=s;return a})();function y1(a,s){if(a&1&&(T(0),g(1),P()),a&2){let n=x().$implicit;c(),S(" ",n.value," ")}}function S1(a,s){if(a&1&&(e(0,"ion-chip"),g(1),l()),a&2){let n=x().$implicit;k("background",n.color)("color",n.contrast),c(),S(" ",n.value," ")}}function j1(a,s){if(a&1&&(e(0,"ion-chip"),g(1),l()),a&2){let n=s.$implicit,o=x(2).$implicit;k("background",o.color)("color",o.contrast),c(),S(" ",n," ")}}function O1(a,s){if(a&1&&(e(0,"span"),m(1,j1,2,5,"ion-chip",8),l()),a&2){let n=x().$implicit;c(),v("ngForOf",n.value)}}function b1(a,s){if(a&1&&(e(0,"p")(1,"span",4),g(2),l(),e(3,"span",5),m(4,y1,2,1,"ng-container",6)(5,S1,2,5,"ion-chip",7)(6,O1,2,1,"span",6),l()()),a&2){let n=s.$implicit;e1("title",n.isHeader),c(2),S("",n.key,":"),c(2),v("ngIf",!n.isArray&&!n.isObject),c(),v("ngIf",n.isObject),c(),v("ngIf",n.isArray)}}function q1(a,s){if(a&1&&(e(0,"ion-col",1)(1,"ion-item",2)(2,"ion-label"),m(3,b1,7,6,"p",3),l()()()),a&2){let n=s.$implicit;c(3),v("ngForOf",n)}}var L1=(()=>{let s=class s{constructor(o){this.home=o}ngOnInit(){this.home.currentElement.subscribe(o=>{var t,i;this.currentElement=o,this.propertyElements=((i=(t=this.currentElement)==null?void 0:t.content)==null?void 0:i.map(r=>this.getProps(r)))||[],console.log(this.currentElement,this.propertyElements)})}getProps(o){return Object.entries(o).map(([t,i])=>{var u,M,z,B,O,b,q;let r=(z=(M=(u=this.currentElement)==null?void 0:u.table)==null?void 0:M.columns)==null?void 0:z.some(d=>d.isHeader&&d.name.toLowerCase()===t),p=Array.isArray(i),w=typeof i=="object"&&!Array.isArray(i);if(w||p){i=w?this.getObjectHeader(i):this.getArrayHeaders(i);let d=(q=(b=(O=(B=this.currentElement)==null?void 0:B.table)==null?void 0:O.columns)==null?void 0:b.find(L=>L.name.toLowerCase()===t))==null?void 0:q.type;if(d&&typeof d!="string"){let L=d.color,y=d.contrast;return{isHeader:r,isObject:w,isArray:p,color:L,contrast:y,key:t,value:i}}}return{isHeader:r,isObject:w,isArray:p,key:t,value:i}})}getObjectHeader(o){var r,p,w,u,M;let t=o,i=(M=(u=(w=(p=(r=this.currentElement)==null?void 0:r.table)==null?void 0:p.columns)==null?void 0:w.find(z=>z.isHeader))==null?void 0:u.name)==null?void 0:M.toLowerCase();return i?t[i]:o}getArrayHeaders(o){var i,r,p,w,u;let t=o;if(t.length<=3){let M=(u=(w=(p=(r=(i=this.currentElement)==null?void 0:i.table)==null?void 0:r.columns)==null?void 0:p.find(z=>z.isHeader))==null?void 0:w.name)==null?void 0:u.toLowerCase();return M?t.map(z=>z[M]):o}return[`x ${t.length}`]}};s.\u0275fac=function(t){return new(t||s)(V(A))},s.\u0275cmp=f({type:s,selectors:[["app-list-viewer"]],decls:3,vars:1,consts:[["size","12","size-md","6","size-xl","4",4,"ngFor","ngForOf"],["size","12","size-md","6","size-xl","4"],["button","","lines","none","detail","true"],[3,"title",4,"ngFor","ngForOf"],[1,"key"],[1,"value"],[4,"ngIf"],[3,"background","color",4,"ngIf"],[3,"background","color",4,"ngFor","ngForOf"]],template:function(t,i){t&1&&(e(0,"ion-grid")(1,"ion-row"),m(2,q1,4,1,"ion-col",0),l()()),t&2&&(c(2),v("ngForOf",i.propertyElements))},dependencies:[v1,D,G,g1,m1,w1,C,U,_],styles:[".value[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:6px 0 12px}"]});let a=s;return a})();var H1=(()=>{let s=class s{constructor(){}ngOnInit(){}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=f({type:s,selectors:[["app-object-viewer"]],decls:2,vars:0,template:function(t,i){t&1&&(e(0,"p"),g(1,` object-viewer works!
`),l())},encapsulation:2});let a=s;return a})();function _1(a,s){a&1&&h(0,"app-list-viewer")}function D1(a,s){a&1&&h(0,"app-object-viewer")}function I1(a,s){if(a&1&&(T(0),m(1,_1,1,0,"app-list-viewer",0)(2,D1,1,0,"app-object-viewer",0),P()),a&2){let n=x();c(),v("ngIf",(n.currentElement==null?null:n.currentElement.isArray)===!0),c(),v("ngIf",(n.currentElement==null?null:n.currentElement.isArray)===!1)}}var V1=(()=>{let s=class s{constructor(o){this.home=o,j({arrowBack:J,ellipsisHorizontal:K,ellipsisVertical:o1})}ngOnInit(){this.home.currentElement.subscribe(o=>this.currentElement=o)}};s.\u0275fac=function(t){return new(t||s)(V(A))},s.\u0275cmp=f({type:s,selectors:[["app-viewer"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,i){t&1&&m(0,I1,3,2,"ng-container",0),t&2&&v("ngIf",i.currentElement==null?null:i.currentElement.content)},dependencies:[C,_,L1,H1],encapsulation:2});let a=s;return a})();function E1(a,s){a&1&&(e(0,"ion-content")(1,"ion-list")(2,"ion-item",12),g(3,"Option 1"),l(),e(4,"ion-item",12),g(5,"Option 2"),l(),e(6,"ion-item",12),g(7,"Option 3"),l()()()),a&2&&(c(2),v("button",!0)("detail",!1),c(2),v("button",!0)("detail",!1),c(2),v("button",!0)("detail",!1))}function F1(a,s){if(a&1&&(e(0,"ion-toolbar")(1,"ion-buttons",7)(2,"ion-button"),h(3,"ion-icon",8),l(),e(4,"ion-button",9),h(5,"ion-icon",10),l(),e(6,"ion-popover",11),m(7,E1,8,6,"ng-template"),l()(),e(8,"ion-title"),g(9),l()()),a&2){let n=x();k("--background",n.currentElement.table==null?null:n.currentElement.table.color),c(2),k("color",n.currentElement.table==null?null:n.currentElement.table.contrast),c(2),k("color",n.currentElement.table==null?null:n.currentElement.table.contrast),c(2),v("dismissOnSelect",!0),c(2),k("color",n.currentElement.table==null?null:n.currentElement.table.contrast),c(),S(" ",n.currentElement.table==null?null:n.currentElement.table.tableName," ")}}var w2=(()=>{let s=class s{constructor(o){this.home=o,j({arrowBack:J,ellipsisHorizontal:K,ellipsisVertical:o1}),this.home.currentElement.subscribe(t=>this.currentElement=t)}import(){console.log("import")}export(){console.log("export")}};s.\u0275fac=function(t){return new(t||s)(V(A))},s.\u0275cmp=f({type:s,selectors:[["app-home"]],decls:17,vars:4,consts:[["contentId","main-content"],["id","main-content",1,"ion-page"],["slot","start"],["slot","end"],[3,"click"],[3,"--background",4,"ngIf"],[3,"fullscreen"],["slot","primary"],["slot","icon-only","name","arrow-back"],["id","list-options-button"],["slot","icon-only","ios","ellipsis-horizontal","md","ellipsis-vertical"],["trigger","list-options-button",3,"dismissOnSelect"],[3,"button","detail"]],template:function(t,i){t&1&&(e(0,"ion-menu",0),h(1,"app-menu"),l(),e(2,"div",1)(3,"ion-header")(4,"ion-toolbar")(5,"ion-buttons",2),h(6,"ion-menu-button"),l(),e(7,"ion-title"),g(8," DBLux "),l(),e(9,"ion-buttons",3)(10,"ion-button",4),H("click",function(){return i.import()}),g(11,"Importar"),l(),e(12,"ion-button",4),H("click",function(){return i.export()}),g(13,"Exportar"),l()()(),m(14,F1,10,10,"ion-toolbar",5),l(),e(15,"ion-content",6),h(16,"app-viewer"),l()()),t&2&&(c(14),v("ngIf",!!i.currentElement),c(),k("--offset-top",i.currentElement?"0px !important":"112px"),v("fullscreen",!0))},dependencies:[C,_,Z,N,r1,X,D,R,W,$,Y,p1,d1,Q,B1,V1],encapsulation:2});let a=s;return a})();export{w2 as HomePage};
